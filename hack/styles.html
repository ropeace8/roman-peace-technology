<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Blog Theme Playground (Sharper Dark v2)</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <style>
      :root {
        --bg: rgb(4, 7, 17);
        --panel: rgba(255, 255, 255, 0.03);
        --panel2: rgba(255, 255, 255, 0.045);
        --border: rgba(255, 255, 255, 0.09);
        --border-strong: rgba(255, 255, 255, 0.16);

        --text: rgba(255, 255, 255, 0.90);
        --muted: rgba(255, 255, 255, 0.62);
        --faint: rgba(255, 255, 255, 0.44);

        /* subdued cool accent (no green) */
        --accent: rgba(148, 163, 184, 0.95);
        --accent-strong: rgba(226, 232, 240, 0.92);

        --radius: 12px;
        --radius-sm: 10px;
        --max: 1120px;

        --shadow: 0 12px 40px rgba(0, 0, 0, 0.55);
      }

      * { box-sizing: border-box; }
      html, body { height: 100%; }
      body {
        margin: 0;
        font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
        background:
          radial-gradient(900px 420px at 22% -10%, rgba(255,255,255,0.06), transparent 60%),
          radial-gradient(700px 360px at 85% 0%, rgba(255,255,255,0.035), transparent 55%),
          var(--bg);
        color: var(--text);
        line-height: 1.55;
      }

      a { color: inherit; text-decoration: none; }
      a:hover { color: rgba(255,255,255,0.98); }

      .shell {
        max-width: var(--max);
        margin: 0 auto;
        padding: 18px 18px 52px;
      }

      /* ===== Header ===== */
      .topbar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 14px;
        padding: 10px 12px;
        border: 1px solid var(--border);
        border-radius: var(--radius);
        background: linear-gradient(to bottom, rgba(255,255,255,0.035), rgba(255,255,255,0.02));
        box-shadow: 0 1px 0 rgba(255,255,255,0.05) inset;
        position: sticky;
        top: 14px;
        backdrop-filter: blur(10px);
        z-index: 10;
      }

      .avatar {
        width: 32px;
        height: 32px;
        border-radius: 999px;
        border: 1px solid rgba(255,255,255,0.14);
        background: rgba(255,255,255,0.03);
        overflow: hidden;
        display: inline-block;
        flex: 0 0 auto;
      }

      .avatar img {
        width: 100%;
        height: 100%;
        display: block;
        object-fit: cover;
      }

      .avatar:hover {
        border-color: rgba(255,255,255,0.22);
      }

      .brand {
        display: flex;
        align-items: center;
        gap: 10px;
        min-width: 240px;
      }

      .mark {
        width: 34px;
        height: 34px;
        border-radius: 10px;
        border: 1px solid rgba(255,255,255,0.12);
        background:
          radial-gradient(10px 10px at 30% 28%, rgba(255,255,255,0.30), transparent 60%),
          linear-gradient(135deg, rgba(255,255,255,0.10), rgba(255,255,255,0.04));
      }

      .brand .name { display: flex; flex-direction: column; gap: 1px; }
      .brand h1 { margin: 0; font-size: 14px; font-weight: 700; letter-spacing: 0.1px; }
      .brand p { margin: 0; font-size: 12px; color: var(--muted); }

      .header-links {
        display: flex;
        align-items: center;
        gap: 12px;
        min-width: 240px;
        justify-content: flex-end;
      }

      .link {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 8px 9px;
        border-radius: 10px;
        border: 1px solid transparent;
        color: var(--muted);
        font-size: 13px;
        font-weight: 600;
      }
      .link:hover {
        border-color: var(--border);
        background: rgba(255,255,255,0.03);
        color: var(--text);
      }

      .icon { width: 16px; height: 16px; color: rgba(255,255,255,0.70); }
      .link:hover .icon { color: rgba(255,255,255,0.92); }

      /* ===== Hero strip ===== */
      .hero {
        margin-top: 14px;
        border: 1px solid var(--border);
        border-radius: var(--radius);
        overflow: hidden;
        background: rgba(255,255,255,0.02);
      }
      .hero .img {
        height: 150px;
        background:
          linear-gradient(to right, rgba(0,0,0,0.38), rgba(0,0,0,0.14)),
          radial-gradient(900px 380px at 25% 25%, rgba(255,255,255,0.16), transparent 55%),
          radial-gradient(700px 320px at 70% 40%, rgba(255,255,255,0.07), transparent 55%),
          url("https://images.unsplash.com/photo-1526374965328-7f61d4dc18c5?auto=format&fit=crop&w=1600&q=80");
        background-size: cover;
        background-position: center;
        filter: saturate(0.75) contrast(1.06);
      }
      .hero .caption {
        padding: 10px 12px;
        color: var(--faint);
        font-size: 12px;
        border-top: 1px solid var(--border);
      }

      /* ===== Posts header + centered tabs ===== */
      .posts-head {
        margin-top: 16px;
        display: grid;
        grid-template-columns: 1fr auto 1fr;
        align-items: end;
        gap: 12px;
      }

      .posts-head h2 {
        margin: 0;
        font-size: 15px;
        letter-spacing: -0.1px;
        color: rgba(255,255,255,0.86);
        font-weight: 700;
      }

      .tabs {
        justify-self: center;
        display: inline-flex;
        gap: 18px;
        border-bottom: 1px solid rgba(255,255,255,0.08);
      }

      .tab {
        padding: 8px 2px 10px;
        font-size: 13px;
        font-weight: 700;
        color: rgba(255,255,255,0.50);
        border-bottom: 2px solid transparent;
        cursor: pointer;
        user-select: none;
      }
      .tab:hover { color: rgba(255,255,255,0.78); }
      .tab.active {
        color: var(--accent-strong);
        border-bottom-color: rgba(255,255,255,0.55);
      }

      .posts-head .right-spacer { height: 1px; } /* keeps grid happy */

      /* ===== Grid ===== */
      .grid {
        margin-top: 12px;
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 12px;
      }
      @media (max-width: 980px) {
        .grid { grid-template-columns: repeat(2, 1fr); }
        .posts-head { grid-template-columns: 1fr; }
        .tabs { justify-self: start; }
      }
      @media (max-width: 640px) {
        .grid { grid-template-columns: 1fr; }
      }

      .card {
        border: 1px solid var(--border);
        border-radius: var(--radius);
        background: rgba(255,255,255,0.02);
        overflow: hidden;
        transition: border-color 120ms ease, transform 120ms ease, background 120ms ease;
      }
      .card:hover {
        border-color: var(--border-strong);
        transform: translateY(-1px);
        background: rgba(255,255,255,0.03);
      }

      .thumb {
        height: 120px;
        background:
          radial-gradient(420px 220px at 25% 35%, rgba(255,255,255,0.12), transparent 55%),
          linear-gradient(135deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
        border-bottom: 1px solid var(--border);
      }

      .card-body { padding: 12px; }

      .category {
        font-size: 11px;
        font-weight: 800;
        letter-spacing: 0.6px;
        text-transform: uppercase;
        color: rgba(255,255,255,0.48);
        margin-bottom: 6px;
      }

      .title {
        margin: 0 0 8px;
        font-size: 14px;
        font-weight: 700;
        letter-spacing: -0.1px;
        color: rgba(255,255,255,0.90);
      }

      .date { font-size: 12px; color: var(--faint); }

      /* ===== Project tiles (in Posts by Project) ===== */
      .project-tile .thumb {
        height: 92px;
      }
      .project-meta {
        display: flex;
        align-items: baseline;
        justify-content: space-between;
        gap: 10px;
      }
      .count {
        font-size: 12px;
        color: rgba(255,255,255,0.50);
        font-weight: 600;
      }

      /* ===== Article page mock ===== */
      .article-shell {
        margin-top: 18px;
        border: 1px solid var(--border);
        border-radius: var(--radius);
        background: rgba(255,255,255,0.02);
        overflow: hidden;
      }

      .article-top { padding: 14px 14px 0; }
      .article-top h3 {
        margin: 0;
        font-size: 15px;
        color: rgba(255,255,255,0.86);
        letter-spacing: -0.1px;
      }
      .article-top p { margin: 6px 0 0; color: var(--muted); font-size: 13px; }

      .article {
        max-width: 720px;
        margin: 0 auto;
        padding: 18px 14px 22px;
      }

      .md h1, .md h2, .md h3 { margin: 18px 0 10px; letter-spacing: -0.2px; }
      .md p { margin: 10px 0; color: rgba(255,255,255,0.86); }
      .md ul { margin: 10px 0 10px 18px; color: rgba(255,255,255,0.86); }
      .md li { margin: 6px 0; }

      /* Code block: hover effect + token styles */
      .md pre {
        margin: 12px 0;
        padding: 12px;
        border-radius: var(--radius-sm);
        border: 1px solid rgba(255,255,255,0.10);
        background: rgba(0,0,0,0.38);
        overflow: auto;
        position: relative;
        transition: border-color 140ms ease, transform 140ms ease, background 140ms ease;
      }
      .md pre:hover {
        border-color: rgba(255,255,255,0.18);
        transform: translateY(-1px);
        background: rgba(0,0,0,0.46);
      }
      .md pre::after {
        content: "";
        position: absolute;
        inset: 0;
        pointer-events: none;
        border-radius: var(--radius-sm);
        box-shadow: 0 0 0 1px rgba(255,255,255,0.04) inset;
      }

      .md code {
        font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
        font-size: 12.5px;
        color: rgba(255,255,255,0.86);
        white-space: pre;
      }

      /* Simple token colors (subdued, not candy) */
      .tok-kw   { color: rgba(226,232,240,0.92); font-weight: 600; }
      .tok-fn   { color: rgba(203,213,225,0.92); }
      .tok-str  { color: rgba(148,163,184,0.95); }
      .tok-num  { color: rgba(186,230,253,0.80); }
      .tok-com  { color: rgba(255,255,255,0.40); font-style: italic; }
      .tok-op   { color: rgba(255,255,255,0.72); }
      .tok-typ  { color: rgba(165,180,252,0.82); } /* mild indigo tint */

      /* Markdown images centered */
      .md img {
        display: block;
        max-width: 100%;
        margin: 14px auto;
        border-radius: var(--radius-sm);
        border: 1px solid var(--border);
        background: rgba(255,255,255,0.02);
      }

      /* ===== Modal ===== */
      .modal-backdrop {
        position: fixed;
        inset: 0;
        background: rgba(0,0,0,0.60);
        backdrop-filter: blur(6px);
        display: none;
        align-items: center;
        justify-content: center;
        padding: 18px;
        z-index: 100;
      }
      .modal-backdrop.open { display: flex; }

      .modal {
        width: min(860px, 100%);
        border: 1px solid rgba(255,255,255,0.14);
        border-radius: 14px;
        background: linear-gradient(to bottom, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
        box-shadow: var(--shadow);
        overflow: hidden;
      }

      .modal-head {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 10px;
        padding: 12px 12px;
        border-bottom: 1px solid rgba(255,255,255,0.08);
      }
      .modal-title {
        display: flex;
        flex-direction: column;
        gap: 2px;
      }
      .modal-title strong {
        font-size: 13px;
        letter-spacing: -0.1px;
      }
      .modal-title span {
        font-size: 12px;
        color: var(--muted);
      }

      .xbtn {
        width: 34px;
        height: 34px;
        border-radius: 10px;
        border: 1px solid transparent;
        background: rgba(255,255,255,0.03);
        color: rgba(255,255,255,0.78);
        cursor: pointer;
        display: grid;
        place-items: center;
      }
      .xbtn:hover {
        border-color: rgba(255,255,255,0.12);
        background: rgba(255,255,255,0.05);
        color: rgba(255,255,255,0.92);
      }

      .modal-body { padding: 12px; }
      .modal-grid { margin-top: 0; }

      /* Views */
      [data-view="projects"] { display: none; }
      body.projects [data-view="all"] { display: none; }
      body.projects [data-view="projects"] { display: grid; }

      /* Small helper */
      .muted { color: var(--muted); }
    </style>
  </head>

  <body>
    <div class="shell">
      <!-- Header -->
      <header class="topbar">
        <a class="brand" href="#">
          <div class="mark" aria-hidden="true"></div>
          <div class="name">
            <h1>Roman’s Blog</h1>
            <p>notes · projects · writing</p>
          </div>
        </a>

        <div class="header-links">
          <a class="link" href="#">About</a>

          <a class="link" href="#" aria-label="LinkedIn">
            <svg class="icon" viewBox="0 0 24 24" fill="none">
              <path d="M6.5 7.5V20H3.5V7.5H6.5Z" stroke="currentColor" stroke-width="1.8"/>
              <path d="M5 4.75C5.69 4.75 6.25 5.31 6.25 6C6.25 6.69 5.69 7.25 5 7.25C4.31 7.25 3.75 6.69 3.75 6C3.75 5.31 4.31 4.75 5 4.75Z" stroke="currentColor" stroke-width="1.8"/>
              <path d="M20.5 20H17.5V13.3C17.5 11.9 16.9 11.1 15.7 11.1C14.4 11.1 13.6 12 13.6 13.3V20H10.6V7.5H13.6V9.1C14.2 8.1 15.2 7.3 16.8 7.3C19.2 7.3 20.5 8.8 20.5 11.9V20Z" stroke="currentColor" stroke-width="1.8"/>
            </svg>
          </a>

          <a class="link" href="#" aria-label="Email">
            <svg class="icon" viewBox="0 0 24 24" fill="none">
              <path d="M4.5 7.5H19.5V17.5H4.5V7.5Z" stroke="currentColor" stroke-width="1.8"/>
              <path d="M5.5 8.5L12 13.2L18.5 8.5" stroke="currentColor" stroke-width="1.8"/>
            </svg>
          </a>
          <a class="avatar" href="#" aria-label="Profile">
            <img id="nav-avatar" alt="Your avatar" />
          </a>
        </div>
      </header>

      <!-- Hero image strip -->
      <section class="hero" aria-label="Hero">
        <div class="img" role="img" aria-label="Wide header image"></div>
        <div class="caption">Replace with your own photo. Keep it wide + short.</div>
      </section>

      <!-- Posts header + centered selector -->
      <div class="posts-head">
        <h2>Posts</h2>

        <div class="tabs" role="tablist" aria-label="Post filters">
          <div class="tab active" role="tab" aria-selected="true" id="tab-all">All Posts</div>
          <div class="tab" role="tab" aria-selected="false" id="tab-projects">Posts by Project</div>
        </div>

        <div class="right-spacer" aria-hidden="true"></div>
      </div>

      <!-- Grid: All posts -->
      <section class="grid" data-view="all" aria-label="All posts grid">
        <a class="card" href="#article">
          <div class="thumb"></div>
          <div class="card-body">
            <div class="category">UI</div>
            <h3 class="title">Sharper dark theme for a React blog</h3>
            <div class="date">Jan 2, 2026</div>
          </div>
        </a>

        <a class="card" href="#article">
          <div class="thumb"></div>
          <div class="card-body">
            <div class="category">ENGINEERING</div>
            <h3 class="title">Rendering markdown: centered images, clean typography</h3>
            <div class="date">Dec 29, 2025</div>
          </div>
        </a>

        <a class="card" href="#article">
          <div class="thumb"></div>
          <div class="card-body">
            <div class="category">PROJECT</div>
            <h3 class="title">A small notes system: tags, search, and fast nav</h3>
            <div class="date">Dec 10, 2025</div>
          </div>
        </a>

        <a class="card" href="#article">
          <div class="thumb"></div>
          <div class="card-body">
            <div class="category">WRITING</div>
            <h3 class="title">Simple layouts that read well</h3>
            <div class="date">Nov 21, 2025</div>
          </div>
        </a>

        <a class="card" href="#article">
          <div class="thumb"></div>
          <div class="card-body">
            <div class="category">DESIGN</div>
            <h3 class="title">Text-first selectors and subdued hovers</h3>
            <div class="date">Oct 3, 2025</div>
          </div>
        </a>

        <a class="card" href="#article">
          <div class="thumb"></div>
          <div class="card-body">
            <div class="category">NOTES</div>
            <h3 class="title">A card pattern that doesn’t feel boxy</h3>
            <div class="date">Sep 14, 2025</div>
          </div>
        </a>
      </section>

      <!-- Grid: Projects (click opens modal) -->
      <section class="grid" data-view="projects" aria-label="Projects grid">
        <button class="card project-tile" data-project="streaming" type="button" style="text-align:left; cursor:pointer;">
          <div class="thumb"></div>
          <div class="card-body">
            <div class="project-meta">
              <div>
                <div class="category">PROJECT</div>
                <h3 class="title" style="margin-bottom:6px;">Streaming</h3>
              </div>
              <div class="count">3 posts</div>
            </div>
            <div class="date">Capture · pipelines · performance</div>
          </div>
        </button>

        <button class="card project-tile" data-project="blog" type="button" style="text-align:left; cursor:pointer;">
          <div class="thumb"></div>
          <div class="card-body">
            <div class="project-meta">
              <div>
                <div class="category">PROJECT</div>
                <h3 class="title" style="margin-bottom:6px;">Blog</h3>
              </div>
              <div class="count">4 posts</div>
            </div>
            <div class="date">Theme · layout · content</div>
          </div>
        </button>

        <button class="card project-tile" data-project="ml" type="button" style="text-align:left; cursor:pointer;">
          <div class="thumb"></div>
          <div class="card-body">
            <div class="project-meta">
              <div>
                <div class="category">PROJECT</div>
                <h3 class="title" style="margin-bottom:6px;">ML</h3>
              </div>
              <div class="count">2 posts</div>
            </div>
            <div class="date">Experiments · notes · results</div>
          </div>
        </button>
      </section>

      <!-- Article page mock -->
      <section class="article-shell" id="article" aria-label="Article page mock">
        <div class="article-top">
          <h3>Article page (markdown rendering mock)</h3>
          <p class="muted">Centered content, centered images, readable line length, highlighted code.</p>
        </div>

        <article class="article md">
          <h2>Centered images</h2>
          <p>
            This image is embedded as an inline SVG data URI, so it always renders (no network needed).
          </p>

          <img id="example-img" alt="Example centered image" />

          <h3>Highlighted code + hover</h3>
          <pre><code class="lang-js">/* markdown image centering */
.md img {
  display: block;
  margin: 14px auto;
  max-width: 100%;
}

/* example: react component */
export function PostCard({ title, date }) {
  return &lt;a className="card" href={"/post/" + title}&gt;{title} — {date}&lt;/a&gt;;
}</code></pre>

          <h3>Layout notes</h3>
          <ul>
            <li>Tabs are centered and text-first (quiet inactive state).</li>
            <li>Projects open a modal with associated posts.</li>
            <li>Code blocks have subtle hover lift + border contrast.</li>
          </ul>
        </article>
      </section>
    </div>

    <!-- Modal -->
    <div class="modal-backdrop" id="backdrop" aria-hidden="true">
      <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modal-title">
        <div class="modal-head">
          <div class="modal-title">
            <strong id="modal-title">Project</strong>
            <span id="modal-subtitle">Posts</span>
          </div>
          <button class="xbtn" id="closeModal" aria-label="Close modal" title="Close">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
              <path d="M7 7L17 17" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M17 7L7 17" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </button>
        </div>
        <div class="modal-body">
          <section class="grid modal-grid" id="modalGrid" aria-label="Project posts"></section>
        </div>
      </div>
    </div>

    <script>
      /* ===== Tabs ===== */
      const tabAll = document.getElementById("tab-all");
      const tabProjects = document.getElementById("tab-projects");

      function setMode(mode) {
        document.body.classList.toggle("projects", mode === "projects");
        tabAll.classList.toggle("active", mode === "all");
        tabProjects.classList.toggle("active", mode === "projects");
        tabAll.setAttribute("aria-selected", mode === "all" ? "true" : "false");
        tabProjects.setAttribute("aria-selected", mode === "projects" ? "true" : "false");
      }

      tabAll.addEventListener("click", () => setMode("all"));
      tabProjects.addEventListener("click", () => setMode("projects"));

      /* ===== Modal data ===== */
      const PROJECTS = {
        streaming: {
          name: "Streaming",
          subtitle: "Capture · pipelines · performance",
          posts: [
            { category: "ENGINEERING", title: "Media capture: minimizing work per frame", date: "Jan 1, 2026" },
            { category: "NOTES", title: "Cropping + transforms without re-encoding", date: "Dec 18, 2025" },
            { category: "UI", title: "A simple recorder UI that stays out of the way", date: "Nov 30, 2025" },
          ],
        },
        blog: {
          name: "Blog",
          subtitle: "Theme · layout · content",
          posts: [
            { category: "DESIGN", title: "Sharper dark palette iteration checklist", date: "Dec 27, 2025" },
            { category: "UI", title: "Header anatomy: quiet links + icons", date: "Dec 20, 2025" },
            { category: "ENGINEERING", title: "Markdown rendering: images centered by default", date: "Dec 12, 2025" },
            { category: "PROJECT", title: "Grid cards: thumbnail, category, title, date", date: "Nov 21, 2025" },
          ],
        },
        ml: {
          name: "ML",
          subtitle: "Experiments · notes · results",
          posts: [
            { category: "NOTES", title: "Sequence classification notes: what actually helped", date: "Dec 5, 2025" },
            { category: "PROJECT", title: "Training loops: small improvements that compound", date: "Nov 12, 2025" },
          ],
        },
      };

      /* ===== Modal open/close ===== */
      const backdrop = document.getElementById("backdrop");
      const closeBtn = document.getElementById("closeModal");
      const modalTitle = document.getElementById("modal-title");
      const modalSubtitle = document.getElementById("modal-subtitle");
      const modalGrid = document.getElementById("modalGrid");

      function openModal(projectKey) {
        const p = PROJECTS[projectKey];
        if (!p) return;

        modalTitle.textContent = p.name;
        modalSubtitle.textContent = p.subtitle;

        modalGrid.innerHTML = p.posts.map((post) => `
          <a class="card" href="#article">
            <div class="thumb"></div>
            <div class="card-body">
              <div class="category">${post.category}</div>
              <h3 class="title">${post.title}</h3>
              <div class="date">${post.date}</div>
            </div>
          </a>
        `).join("");

        backdrop.classList.add("open");
        backdrop.setAttribute("aria-hidden", "false");
        // focus close for keyboard
        closeBtn.focus();
      }

      function closeModal() {
        backdrop.classList.remove("open");
        backdrop.setAttribute("aria-hidden", "true");
      }

      document.querySelectorAll("[data-project]").forEach((btn) => {
        btn.addEventListener("click", () => openModal(btn.dataset.project));
      });

      closeBtn.addEventListener("click", closeModal);

      // click outside modal closes
      backdrop.addEventListener("click", (e) => {
        if (e.target === backdrop) closeModal();
      });

      // ESC closes
      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape" && backdrop.classList.contains("open")) closeModal();
      });

      /* ===== Guaranteed article image (inline SVG data URI) ===== */
      const svg = `
        <svg xmlns="http://www.w3.org/2000/svg" width="1400" height="700" viewBox="0 0 1400 700">
          <defs>
            <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0" stop-color="rgba(255,255,255,0.10)"/>
              <stop offset="1" stop-color="rgba(255,255,255,0.02)"/>
            </linearGradient>
            <radialGradient id="r" cx="30%" cy="35%" r="70%">
              <stop offset="0" stop-color="rgba(255,255,255,0.14)"/>
              <stop offset="1" stop-color="rgba(255,255,255,0.00)"/>
            </radialGradient>
          </defs>
          <rect width="1400" height="700" fill="rgba(0,0,0,0.28)"/>
          <rect width="1400" height="700" fill="url(#g)"/>
          <circle cx="380" cy="250" r="380" fill="url(#r)"/>
          <rect x="90" y="92" width="1220" height="516" rx="26" fill="rgba(255,255,255,0.03)" stroke="rgba(255,255,255,0.12)"/>
          <text x="120" y="170" fill="rgba(255,255,255,0.72)" font-family="Inter, system-ui" font-size="34" font-weight="700">
            Centered markdown image
          </text>
          <text x="120" y="220" fill="rgba(255,255,255,0.46)" font-family="Inter, system-ui" font-size="18">
            Inline SVG placeholder (no network needed)
          </text>
          <path d="M120 280 H 1180" stroke="rgba(255,255,255,0.10)"/>
          <rect x="120" y="310" width="420" height="220" rx="18" fill="rgba(255,255,255,0.03)" stroke="rgba(255,255,255,0.10)"/>
          <rect x="560" y="310" width="620" height="28" rx="10" fill="rgba(255,255,255,0.05)"/>
          <rect x="560" y="354" width="520" height="24" rx="10" fill="rgba(255,255,255,0.035)"/>
          <rect x="560" y="394" width="580" height="24" rx="10" fill="rgba(255,255,255,0.03)"/>
          <rect x="560" y="434" width="460" height="24" rx="10" fill="rgba(255,255,255,0.03)"/>
          <rect x="560" y="474" width="540" height="24" rx="10" fill="rgba(255,255,255,0.03)"/>
          <rect x="560" y="514" width="420" height="24" rx="10" fill="rgba(255,255,255,0.03)"/>
        </svg>
      `.trim();

      const img = document.getElementById("example-img");
      img.src = "data:image/svg+xml;charset=utf-8," + encodeURIComponent(svg);

      /* ===== Tiny syntax highlighter (subtle) ===== */
      function escapeHtml(s) {
        return s.replaceAll("&", "&amp;").replaceAll("<", "&lt;").replaceAll(">", "&gt;");
      }

      function highlight(code) {
        // Basic patterns: comments, strings, numbers, keywords, types-ish, function-ish
        // Order matters.
        let s = escapeHtml(code);

        // comments
        s = s.replace(/(\/\*[\s\S]*?\*\/|\/\/[^\n]*)/g, '<span class="tok-com">$1</span>');

        // strings
        s = s.replace(/(["'`])(?:\\.|(?!\1)[^\\])*\1/g, (m) => `<span class="tok-str">${m}</span>`);

        // numbers
        s = s.replace(/\b(\d+(\.\d+)?)\b/g, '<span class="tok-num">$1</span>');

        // keywords
        const kw = [
          "const","let","var","function","return","export","import","from",
          "if","else","for","while","switch","case","break","continue",
          "class","new","try","catch","finally","throw","await","async",
          "type","interface","extends","implements"
        ];
        const kwRe = new RegExp("\\b(" + kw.join("|") + ")\\b", "g");
        s = s.replace(kwRe, '<span class="tok-kw">$1</span>');

        // simple types (React/TS-ish)
        s = s.replace(/\b(React|JSX|HTMLElement|string|number|boolean|Record|Partial)\b/g, '<span class="tok-typ">$1</span>');

        // function call-ish: foo(
        s = s.replace(/\b([A-Za-z_$][\w$]*)\s*(?=\()/g, '<span class="tok-fn">$1</span>');

        // operators (light touch)
        s = s.replace(/([=><!]+|=>|\+|-|\*|\/)/g, '<span class="tok-op">$1</span>');

        return s;
      }

      const avatarSvg = `
  <svg xmlns="http://www.w3.org/2000/svg" width="256" height="256" viewBox="0 0 256 256">
    <defs>
      <radialGradient id="bg" cx="35%" cy="25%" r="80%">
        <stop offset="0" stop-color="rgba(255,255,255,0.18)"/>
        <stop offset="1" stop-color="rgba(255,255,255,0.02)"/>
      </radialGradient>
      <linearGradient id="ring" x1="0" y1="0" x2="1" y2="1">
        <stop offset="0" stop-color="rgba(255,255,255,0.22)"/>
        <stop offset="1" stop-color="rgba(255,255,255,0.06)"/>
      </linearGradient>
    </defs>

    <rect width="256" height="256" fill="rgba(0,0,0,0.30)"/>
    <rect width="256" height="256" fill="url(#bg)"/>

    <!-- subtle ring -->
    <circle cx="128" cy="128" r="118" fill="none" stroke="url(#ring)" stroke-width="6"/>

    <!-- simple bust icon -->
    <circle cx="128" cy="108" r="44" fill="rgba(255,255,255,0.14)" stroke="rgba(255,255,255,0.18)" stroke-width="2"/>
    <path d="M56 220c10-46 48-72 72-72s62 26 72 72"
      fill="rgba(255,255,255,0.10)" stroke="rgba(255,255,255,0.18)" stroke-width="2" stroke-linecap="round"/>
  </svg>
`.trim();

const navAvatar = document.getElementById("nav-avatar");
if (navAvatar) {
  navAvatar.src = "data:image/svg+xml;charset=utf-8," + encodeURIComponent(avatarSvg);
}

      document.querySelectorAll("pre code").forEach((el) => {
        // Preserve original textContent for highlight pass
        const raw = el.textContent;
        el.innerHTML = highlight(raw);
      });
    </script>
  </body>
</html>